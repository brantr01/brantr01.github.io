<html>
<body>
<link red"stylesheet" href="todoappfinal.css" type="text/css">
<h1>Tasks</h1>
    <aside>
        <label for="task">Enter Task</label>
            <input type="text" id="task">
        <button onclick="addTask()">Add</button>
        <select id="priority">
        <option>High</option>
        <option>Medium</option>
        <option>Low</option>
        </select>
    </aside>
<main>
    <ul id="list"></ul>
    </main>
    <script src="todo.js" type="text/javascript"></script>
    
    <script type="text/javascript">
        if (this.checked) {
            this.parentNode.classList.add("done");
        } else {
            this.parentNode.classList.remove("done");
        }
        localSave()
        }
        localSave = function() {
            var res = []
            var i;
            allEntries = document.querySelectorAll('li')
            for(i=0; i < allEntries[i].classList.length; i++) {
                if (! allEntries[i].classList.contains("done") ) {
                    res.push(allEntries[i].innerText);
                }
            }
            localStorage.setItem("todoDatabase",JSON.stringify(res))
        }
        restoreTasks = function() {
            allTasks = JSON.parse(localStorage.getItem('todoDatabase'))
            taskList = document.querySelector("#list");
            for(i = 0; i < allTasks.length; i++) {
            }
        }
    addTask = function() {
        var newli;
        task = document.querySelector("#task");
        taskList = document.querySelector("#list");
        priorityValue = document.querySelector("#priority").value;
        taskText = task.value;
        newli = document.createElement('li');
        newli.className = priorityValue;
        newcb = document.createElement('input');
        newcb.type = 'checkbox';
        newcb.onclick = doneTask;
        newli.appendChild(newcb);
        t = document.createTextNode(taskText);
        newli.appendChild(t);
        taskList.appendChild(newli);
        task.value = "";
        localSave()
    }
        </script>