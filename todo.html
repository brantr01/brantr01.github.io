<html>
<body>
    <style>
        newli.done {
            text-decoration: line-through;
        }
        body{
            background-color: yellow;
        }
    </style>
<h1>Tasks</h1>
    <aside>
        <label for="taskbox">Enter Task</label>
            <input type="text" id="task">
        <button onclick="addToList()">Add</button>
    </aside>
<main>
    <ul id="busylist"></ul>
    </main>
<script type="text/javascript">
    donetask = function() {
        this.parentNode.classname = "done"
        } else {
        	this.parentNode.classlist.remove("done");
    }
    localSave()
    }
    localSave = function() {
    res = []
    var i;
    allEntries = document.QuerySelectorAll('li')
    for(i=0; i < allEntries.length; i++) {
    	if (allEntries[i].className ! = "done" ) {
    		res.push(allEntries[i].innerText);
    		}
    	}
    	console.log(res)
    	localStorage.setItem("todoDatabase", JSON.stringify(res))
    }
    addToList = function() {
    task = document.querySelector('#taskbox');
    tasklist = document.querySelector('#busylist');
    priorityValue = document.querySelector("#priority").value;
    newli = document.createElement("li");
    newli.className = priorityValue;
    newcb =document.createElement("input");
    newcb.type = 'checkbox';
    newli.appendChild(newcb);
    t = document.createTextNode(task.value);
    newli.appendChild(t);   
    newcb.id = taskCount;
    taskList.appendChild(newli);
    task.value = "";
    newcb.onclick = doneTask;
    }
        </script>
    </body>
</html>